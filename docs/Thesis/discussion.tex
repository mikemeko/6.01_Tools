% Chapter where we explain the results.

\chapter{Discussion}
\label{ch:discussion}

\section{Explaining the Results}

Chapter \ref{ch:results} presented quantitative data to compare the various
alternatives we have in solving the protoboard layout problem. Here, we will
analyze that data and give reasonings for why we obtained the results
that we obtained.

\subsection{Comparing placement methods}

In Figure \ref{fig:placement_success} and Table \ref{tb:placement_success} we
see that the distance method exceeds the blocking method in number of circuits
solved $10$ times out of $10$ as well as in the number of circuits solved $0$
to $2$ times out of $10$. On the other hand, the blocking method exceeds the
distance method in number of circuits solved from $3$ to $9$ times out
of $10$. If our primary goal is avoiding failure, then these results suggest
that the blocking method is a better placement method. If, on the other hand,
our primary goal is being consistent on success (while not necessarily being
successful), then these results perhaps suggest that the distance method is
better. In a sense, these results suggest that while the blocking method
generally produces placements that are easier for the wiring stage, it has more
variability in the placements it produces for the same circuit. The distance
method, on the other hand, produces worse placements (i.e. placements that are
harder to wire), but has much less variability. This observation from the data
makes intuitive sense as there are likely to be more placements that are minimal
in blocking rows than placements that minimize pairwise distances between pairs
of protoboard locations that need to be connected.

Despite the important differences presented above, it is interesting to note
that the
success rates of the two placement methods are not that different form each
other. Looking at the percentages given in Table \ref{tb:placement_success}, we
see that the success rates are very comparable.

When we consider success rate as a function of the complexity of circuits, we
reach some interesting patterns. From Figure \ref{fig:placement_success_trend} we
can gather that when the number of pins in the circuit is less than roughly $26$,
the blocking method generally has a higher success rate, but when the number of
pins is greater than $26$, the success rates of the two methods are very
comparable. This suggests that the blocking method is a better placement method
for the less complex circuits, but does not do any better on the more
complex ones. These results compliment what we found above. These results
suggest that the blocking method generally produces placements that are easy to
wire. These placements are easy in that the search in wiring is less likely to
get stuck while trying to connect a pair of locations. This is precisely a result
of the fact that the blocking method attempts to free as many rows as possible.
The blocking method is less effective on the more complex circuits because
despite freeing rows, it may ask for elaborate connections to be made, i.e.
connections between distant pairs of locations on the protoboard. The distance
method, on the other hand, attempts to avoid this problem by trying to minimize
the distances between the locations that need to be connected. Hence we would
not expect the blocking method to be better on the more complex circuits.
Interestingly, it does not seem to be worse on the more complex circuits either.

As we would expect, we certainly observe that as the complexity of the circuits
increases, success rate generally decreases for both of the placement methods.
The curves in Figure \ref{fig:placement_success_trend} seem to shoot back up
at the far end of the figure, but this is a result of the fact that there are
very few circuits at that end of the figure, on which the algorithm happened to
be consistently successful. It is important to note, once again, that the success
rates for the two placement methods are very comparable despite the difference
discussed above.

Let us now consider wiring time as the basis for comparison. Once again, in
Figure \ref{fig:placement_time_trend} we notice a very interesting separation
at roughly $26$ pins per circuit. When the number of pins in the circuits is
less than $26$, the wiring times for the two methods are very comparable.
When the number of pins in the circuits is greater than $26$, however, the
blocking methods consistently takes longer. This is very much related to the
discussion above that the blocking method may often ask for elaborate connections
to be made. As the complexity of circuits increases, the blocking method will
require the wiring step to make more elaborate connections than would the distance
method. Hence, when we are using the blocking method and the algorithm does succeed,
we would certainly expect the wiring step to take longer than if we had used the
distance method.

As we would expect, we certainly see that as the complexity of the circuits
increases, the amount of time spent by the wiring step also increases. As we did
for the success rate trends as a function of circuit complexity, we observe that
there are outliers at the far end of the figure due to a very small sample of the
most complex circuits in the randomly generated schematic dataset.

Finally, let us look at layout complexity as the basis for comparison. Figure
\ref{fig:placement_quality_trend} presents graphs that compare numbers of wires,
numbers of wire crosses, and total wire lengths. We first observe that the
number of wires used by the two methods are almost identical. As the complexity
of the circuit increases, we see that the blocking method uses more wires than
does the distance method, but by and large the values are very comparable. This
makes intuitive sense as we are rarely required to use more wires than
absolutely necessary (keeping wires horizontal and vertical) to connect a pair
of locations (?). When we look at the number of wire crosses in the layouts, we
see that the blocking method consistently results in more wire crosses. Similarly,
when we look at the total length of wires used in the layouts, the blocking
method exceeds the distance method consistently, with the difference getting
higher as complexity increases. This can be explained by the fact that the
blocking method may require elaborate connections, especially as the circuits
get more complex.

It is difficult to conclusively pick a better placement method from these results.
It is clear that both methods have their strengths and weaknesses. In Section
\ref{sec:method_combination} we will discuss how combining these two methods can
get us the best of both worlds (?).

\subsection{Comparing wiring methods}

To compare the wiring methods, let us start with the success rate for each method.
Figures \ref{fig:wiring_success} and \ref{fig:wiring_success_trend}, and Table
\ref{fig:wiring_success} provide the appropriate data. The very first fact we
observe is that the all-pairs method has a much smaller success rate than all of
the other alternatives, especially as circuit complexity increases. The reason
for this, in large part, is the fact that we impose a cutoff on the number of
nodes to expand in the search (TODO: this must be discussed in Methods). As we
are using just the one search to connect all pairs of locations, the search
cutoff would be expected to have more of an effect on the all-pairs method. The
other four alternatives have very comparable success rates.

Next we look at Figure \ref{fig:wiring_time_trend} to compare wiring times for
the five methods. Once again, we observe that the all-pairs methods takes
significanlty more time than the other methods. When attempting to connect all
pairs in one search, the method searches for an appealing layout, which may
require searching through a large number of alternatives, especially for more
complex circuits. Hence, we would expect the all-pairs methods to generally take
more time than the other alternatives. We also observe from Figure
\ref{fig:wiring_time_trend} that the wiring times for the two per-node methods
are comparable, and that the wiring times for the two per-pair methods are also
comparable, but that the per-node wiring times are generally bigger than the
per-pair wiring times. This trend is also expected as the per-node methods
attempt to connect multiple pairs of locations at once while keeping the layout
pleasing, and this generally requires searching through more alternatives than
connecting each of the pairs of locations individually. It is important to note
that per-node, increaseing generally takes more time than per-pair, decreasing,
and also that per-pair, increasing generally takes more time than per-pair,
decreasing.

Finally let us look at Figure \ref{fig:wiring_quality_trend} to compare the
quality of the layouts produced by the five alternative wiring methods. First,
as we observed in the placement method comparison, we see that there is very
little difference in terms of number of wires used and the total wire length.
However, there are significant differences in the number of wire crosses. We see
that the all-pairs method generates layouts with much fewer wire crosses than
the other methods. This is completely expected since we run one search to
connect all pairs of locations while attempting to keep the layout as nice as
possible. Conversely, the per-pair, decreasing and per-node, decreasing methods
result in the most number of wire crosses. It is very interesting to note that
the per-node, decreasing method produces more wire crosses on average than the
per-pair,
increasing method. Here we observe that the order in which we consider pairs of
locations has a telling effect on how good the layouts will be. In essence,
connecting the harder pairs of locations generally produces more wire corsses.

What we have observed is that while the all-pairs method is the least successful
method and the one that generally takes the longest among the five,
it generally produces the best layouts when it does succeed. On the other hand,
the alternatives that break down the problem into smaller pieces succeed more
often and finish more quickly while producing worse results. Furthermore,
the more finely we breakdown the problem, the faster the overall algorithm.
Lastly, ordering subproblems from hardest to easiest has the effect of making the
overall wiring step complete faster but producing worse results than the reverse
order and not necessarily getting a markedly better success rate.

\subsection{Comparing resistor treatments}

\subsection{Comparing search methods}

\subsection{Putting them all together}
\label{sec:method_combination}

\section{Remarks}

\textit{Why are these results encouraging? What are their implications? Relate
back to Introduction to Thesis. What could have been done differently?}
